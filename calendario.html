<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>OWL LATAM | Evento de Networking</title>
  <meta name="description" content="Evento privado de networking para profesionales de cadena de suministro." />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
  <style>
    :root {
      --owl-navy: #212c5f;
      --owl-text: #1f2435;
      --owl-muted: #687086;
      --owl-line: #e1e5f0;
      --owl-surface: #f0f2f7;
      --owl-white: #ffffff;
      --owl-cyan: #21b4cf;
      --max: 1180px;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: "Poppins", sans-serif;
      color: var(--owl-text);
      background: radial-gradient(circle at 85% 20%, #eaf8ff, #f7f9fd 45%);
    }

    .wrap {
      width: min(var(--max), calc(100% - 2rem));
      margin: 0 auto;
      padding: 2.2rem 0 3rem;
    }

    .invite-sheet {
      background: var(--owl-white);
      border: 1px solid var(--owl-line);
      border-radius: 22px;
      padding: 1.5rem;
      box-shadow: 0 20px 44px rgba(18, 34, 77, 0.12);
    }

    .eyebrow {
      color: var(--owl-cyan);
      font-weight: 600;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      font-size: 0.78rem;
      margin-bottom: 0.8rem;
    }

    h1 {
      margin: 0;
      font-size: clamp(2rem, 3.6vw, 3.2rem);
      line-height: 1.15;
      color: var(--owl-navy);
      max-width: 14ch;
    }

    .intro {
      margin-top: 1rem;
      max-width: 62ch;
      line-height: 1.65;
      font-size: 1.02rem;
    }

    .actions {
      margin-top: 1rem;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 0.6rem 0.9rem;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      border: 0;
      border-radius: 10px;
      padding: 0.72rem 1.1rem;
      font-family: inherit;
      font-size: 0.92rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 160ms ease, box-shadow 160ms ease;
    }

    .btn-print {
      color: var(--owl-white);
      background: var(--owl-cyan);
      box-shadow: 0 8px 16px rgba(33, 180, 207, 0.22);
    }

    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 18px rgba(33, 180, 207, 0.28);
    }

    .print-tip {
      margin: 0;
      font-size: 0.86rem;
      color: var(--owl-muted);
    }

    .layout {
      margin-top: 1.7rem;
      display: grid;
      grid-template-columns: 1.3fr 0.7fr;
      gap: 1rem;
    }

    .card {
      background: var(--owl-white);
      border: 1px solid var(--owl-line);
      border-radius: 18px;
      padding: 1.15rem;
    }

    .card h2 {
      margin: 0 0 0.7rem;
      font-size: 1.24rem;
      color: var(--owl-navy);
    }

    .item {
      padding: 0.72rem 0;
      border-top: 1px solid var(--owl-line);
    }

    .item:first-of-type { border-top: 0; }

    .item-logos {
      position: relative;
      min-height: 64px;
      border-top: 0;
      padding-top: 0;
    }

    .joint-logos {
      position: absolute;
      inset: 0 0 auto 0;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 0.6rem;
    }

    .joint-logos img {
      display: block;
      background: var(--owl-white);
      border: 1px solid var(--owl-line);
      border-radius: 8px;
      padding: 0.2rem;
      object-fit: contain;
    }

    .joint-logos .owl {
      width: 58px;
      height: 58px;
    }

    .joint-logos .camara {
      width: 162px;
      height: 58px;
    }

    .label {
      font-size: 0.78rem;
      color: var(--owl-muted);
      text-transform: uppercase;
      letter-spacing: 0.06em;
      margin-bottom: 0.3rem;
      font-weight: 600;
    }

    .value {
      margin: 0;
      line-height: 1.55;
    }

    .speaker {
      display: grid;
      gap: 0.9rem;
      align-content: start;
    }

    .speaker-photo {
      width: 100%;
      aspect-ratio: 4 / 5;
      border-radius: 14px;
      object-fit: cover;
      border: 1px solid var(--owl-line);
      background: var(--owl-surface);
    }

    .pill {
      display: inline-block;
      background: #eafcff;
      border: 1px solid #c5f4fb;
      color: #0a6b7b;
      border-radius: 999px;
      font-size: 0.75rem;
      padding: 0.28rem 0.62rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    @media (max-width: 900px) {
      .layout { grid-template-columns: 1fr; }
    }

    @page { size: A4; margin: 0; }

    @media print {
      html, body {
        width: 210mm;
        height: 297mm;
      }
      body {
        background: #ffffff;
      }
      .no-print {
        display: none !important;
      }
      .wrap {
        width: 210mm;
        min-height: 297mm;
        max-width: none;
        margin: 0;
        padding: 10mm;
      }
      .invite-sheet {
        border-radius: 0;
        border: 0;
        box-shadow: none;
        padding: 0;
      }
      .layout {
        margin-top: 0.8rem;
        grid-template-columns: 1fr;
      }
      .card {
        box-shadow: none;
        page-break-inside: avoid;
      }
    }
  </style>
</head>
<body>
  <main class="wrap">
    <section class="invite-sheet">
      <div class="eyebrow">OWL LATAM | Calendario</div>
      <h1>Networking para profesionales de la cadena de suministro</h1>
      <p class="intro">
        Sesión privada de networking con enfoque en operaciones, abastecimiento y resultados reales en empresas de consumo masivo.
      </p>
      <div class="actions no-print">
        <button class="btn btn-print" id="shareInviteBtn" type="button">Compartir invitación</button>
        <p class="print-tip">Genera un JPG optimizado para WhatsApp, correo y redes sociales.</p>
      </div>

      <section class="layout">
        <article class="card">
        <h2>Informacion del evento</h2>

        <div class="item item-logos" aria-hidden="true">
          <div class="joint-logos">
            <img class="owl" src="/static/owl-logo.png" alt="" />
            <img class="camara" src="/static/logo-camara.jpg" alt="" />
          </div>
        </div>

        <div class="item">
          <div class="label">Lugar</div>
          <p class="value">CARE COWORKING</p>
        </div>

        <div class="item">
          <div class="label">Direccion</div>
          <p class="value">Av. Ejercito Nacional Mexicano 1112, Polanco, Polanco I Secc, Miguel Hidalgo, 11510 Ciudad de Mexico, CDMX</p>
        </div>

        <div class="item">
          <div class="label">Ponencia destacada</div>
          <p class="value">Lorenzo Gimeno, Gerente de Operaciones de Wild Foods Mexico.</p>
        </div>

        <div class="item">
          <div class="label">Tema</div>
          <p class="value">
            Experiencia en cadena de suministro en empresas de consumo masivo en Chile y Mexico, y beneficios concretos que esta consiguiendo con OWL para fortalecer su operacion en ambos paises.
          </p>
          <p class="value" style="margin-top:0.55rem;">
            Evento realizado de manera conjunta entre OWL LATAM y la Camara Mexicano Chilena de Comercio e Inversion.
          </p>
        </div>

        <div class="item">
          <div class="label">Convocatoria</div>
          <p class="value">Cupos limitados.</p>
          <p class="value">Viernes 27 de febrero, 15:00 hrs.</p>
          <p class="value">Inscripciones: <a href="mailto:angelo@theowl.solutions">angelo@theowl.solutions</a></p>
        </div>
        </article>

        <aside class="card speaker">
        <span class="pill">Speaker</span>
        <img class="speaker-photo" src="/static/Lorenzo.jpeg" alt="Lorenzo Gimeno" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
        <div style="display:none; border:1px solid var(--owl-line); background:var(--owl-surface); border-radius:14px; padding:1rem; color:var(--owl-muted);">
          Foto de Lorenzo Gimeno
        </div>
        <div>
          <h2 style="margin-bottom:0.35rem;">Lorenzo Gimeno</h2>
          <p class="value" style="margin:0;">Gerente de Operaciones<br />Wild Foods Mexico</p>
        </div>
        </aside>
      </section>
    </section>
  </main>
  <script>
    (function () {
      const btn = document.getElementById("shareInviteBtn");
      if (!btn) return;

      function canvasToBlob(canvas, quality) {
        return new Promise((resolve) => canvas.toBlob(resolve, "image/jpeg", quality));
      }

      function loadImage(src) {
        return new Promise((resolve, reject) => {
          const img = new Image();
          img.onload = () => resolve(img);
          img.onerror = reject;
          img.src = src;
        });
      }

      function drawMultiline(ctx, text, x, y, maxWidth, lineHeight) {
        const words = text.split(" ");
        let line = "";
        let cursorY = y;
        const lines = [];
        for (let i = 0; i < words.length; i += 1) {
          const testLine = line + words[i] + " ";
          const testWidth = ctx.measureText(testLine).width;
          if (testWidth > maxWidth && i > 0) {
            const l = line.trim();
            lines.push(l);
            ctx.fillText(l, x, cursorY);
            line = words[i] + " ";
            cursorY += lineHeight;
          } else {
            line = testLine;
          }
        }
        if (line) {
          const l = line.trim();
          lines.push(l);
          ctx.fillText(l, x, cursorY);
        }
        return { y: cursorY, lines };
      }

      function drawLabelValue(ctx, label, value, x, y, width) {
        ctx.fillStyle = "#6b7390";
        ctx.font = "700 18px Poppins, sans-serif";
        ctx.fillText(label.toUpperCase(), x, y);
        ctx.fillStyle = "#2c334a";
        ctx.font = "500 22px Poppins, sans-serif";
        const out = drawMultiline(ctx, value, x, y + 34, width, 30);
        return out.y + 30;
      }

      btn.addEventListener("click", async function () {
        const original = btn.textContent;
        btn.disabled = true;
        btn.textContent = "Generando...";

        try {
          if (document.fonts && document.fonts.ready) {
            await document.fonts.ready;
          }

          const canvas = document.createElement("canvas");
          canvas.width = 1080;
          canvas.height = 1350;
          const ctx = canvas.getContext("2d");

          ctx.fillStyle = "#f2f5fb";
          ctx.fillRect(0, 0, canvas.width, canvas.height);

          ctx.fillStyle = "#ffffff";
          ctx.strokeStyle = "#e1e5f0";
          ctx.lineWidth = 1.5;
          ctx.beginPath();
          ctx.roundRect(34, 34, 1012, 1282, 24);
          ctx.fill();
          ctx.stroke();

          const [owlLogo, camaraLogo, speaker] = await Promise.all([
            loadImage("/static/owl-logo.png"),
            loadImage("/static/logo-camara.jpg"),
            loadImage("/static/Lorenzo.jpeg"),
          ]);

          const contentX = 84;
          const contentY = 84;
          const contentW = 912;
          const columnGap = 34;
          const photoW = 220;
          const photoH = 286;
          const photoX = contentX + contentW - photoW;
          const textW = photoX - contentX - columnGap;

          const owlW = 118;
          const owlH = 92;
          const camW = 240;
          const camH = 92;

          ctx.drawImage(owlLogo, contentX, contentY, owlW, owlH);
          ctx.drawImage(camaraLogo, contentX + contentW - camW, contentY, camW, camH);

          ctx.fillStyle = "#21b4cf";
          ctx.font = "700 48px Poppins, sans-serif";
          ctx.fillText("OWL LATAM | INVITACION", contentX, 236);

          ctx.fillStyle = "#1f2b68";
          ctx.font = "800 66px Poppins, sans-serif";
          const title = drawMultiline(
            ctx,
            "Networking para profesionales de la cadena de suministro",
            contentX,
            314,
            textW,
            74
          );
          const titleEnd = title.y;

          ctx.fillStyle = "#ffffff";
          ctx.strokeStyle = "#d6e0f4";
          ctx.lineWidth = 1.5;
          ctx.beginPath();
          ctx.roundRect(photoX - 12, 284, photoW + 24, 730, 18);
          ctx.fill();
          ctx.stroke();

          ctx.drawImage(speaker, photoX, 304, photoW, photoH);

          ctx.fillStyle = "#424b64";
          ctx.font = "500 48px Poppins, sans-serif";
          const subtitle = drawMultiline(
            ctx,
            "Sesion privada de networking con enfoque en operaciones y resultados reales.",
            contentX,
            titleEnd + 44,
            textW,
            58
          );
          const subtitleEnd = subtitle.y;

          ctx.fillStyle = "#21b4cf";
          ctx.font = "700 48px Poppins, sans-serif";
          ctx.fillText("SPEAKER", photoX, 664);

          ctx.fillStyle = "#1f2b68";
          ctx.font = "800 62px Poppins, sans-serif";
          const speakerName = drawMultiline(ctx, "Lorenzo Gimeno", photoX, 736, photoW, 66);

          ctx.fillStyle = "#4d556f";
          ctx.font = "500 40px Poppins, sans-serif";
          const speakerRoleEnd = drawMultiline(
            ctx,
            "Gerente de Operaciones Wild Foods Mexico",
            photoX,
            speakerName.y + 24,
            photoW,
            48
          ).y;

          const infoTop = Math.max(subtitleEnd + 58, speakerRoleEnd + 36);
          const infoH = 330;
          ctx.fillStyle = "#ffffff";
          ctx.strokeStyle = "#d6e0f4";
          ctx.lineWidth = 1.5;
          ctx.beginPath();
          ctx.roundRect(contentX, infoTop, contentW, infoH, 18);
          ctx.fill();
          ctx.stroke();

          ctx.fillStyle = "#1f2b68";
          ctx.font = "700 58px Poppins, sans-serif";
          ctx.fillText("Informacion del evento", contentX + 28, infoTop + 72);

          ctx.fillStyle = "#2c334a";
          ctx.font = "600 40px Poppins, sans-serif";
          ctx.fillText("Viernes 27 de febrero | 15:00 hrs", contentX + 28, infoTop + 132);

          ctx.font = "500 34px Poppins, sans-serif";
          const address = drawMultiline(
            ctx,
            "CARE COWORKING, Av. Ejercito Nacional Mexicano 1112, Polanco, Polanco I Secc, Miguel Hidalgo, 11510 Ciudad de Mexico, CDMX",
            contentX + 28,
            infoTop + 184,
            contentW - 56,
            44
          );

          const speakerLine = drawMultiline(
            ctx,
            "Ponente: Lorenzo Gimeno, Gerente de Operaciones de Wild Foods Mexico.",
            contentX + 28,
            address.y + 22,
            contentW - 56,
            42
          );

          drawMultiline(
            ctx,
            "Evento realizado de manera conjunta entre OWL LATAM y la Camara Mexicano Chilena de Comercio e Inversion. Evento sin costo.",
            contentX + 28,
            speakerLine.y + 20,
            contentW - 56,
            40
          );

          const footerY = infoTop + infoH + 28;
          ctx.fillStyle = "#eafcff";
          ctx.strokeStyle = "#c5f4fb";
          ctx.lineWidth = 1.5;
          ctx.beginPath();
          ctx.roundRect(contentX, footerY, contentW, 88, 14);
          ctx.fill();
          ctx.stroke();
          ctx.fillStyle = "#0a6b7b";
          ctx.font = "700 44px Poppins, sans-serif";
          ctx.fillText("Inscripciones: angelo@theowl.solutions", contentX + 24, footerY + 57);

          const blob = await canvasToBlob(canvas, 0.88);
          if (!blob) throw new Error("No se pudo generar la imagen.");

          if (window.File && navigator.canShare) {
            try {
              const file = new File([blob], "invitacion-owl-networking.jpg", { type: "image/jpeg" });
              if (navigator.canShare({ files: [file] })) {
                await navigator.share({
                  files: [file],
                  title: "Invitación | Networking OWL LATAM",
                  text: "Invitación al evento de networking de OWL LATAM",
                });
                return;
              }
            } catch (shareErr) {
              console.warn("Share fallback to download", shareErr);
            }
          }

          const url = URL.createObjectURL(blob);
          const a = document.createElement("a");
          a.href = url;
          a.download = "invitacion-owl-networking.jpg";
          document.body.appendChild(a);
          a.click();
          a.remove();
          URL.revokeObjectURL(url);
        } catch (error) {
          console.error(error);
          alert("No fue posible generar la invitación. Intenta nuevamente.");
        } finally {
          btn.disabled = false;
          btn.textContent = original;
        }
      });
    })();
  </script>
</body>
</html>
